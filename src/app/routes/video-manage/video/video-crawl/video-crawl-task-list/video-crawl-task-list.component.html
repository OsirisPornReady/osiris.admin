<page-header [home]="''" [title]="''"></page-header>
<nz-card>
<!--  <sf mode="search" [schema]="searchSchema" (formSubmit)="st.reset($event)" (formReset)="st.reset($event)"></sf>-->
<!--  <div nz-row class="mt-sm mb-md">-->
<!--    <div nz-col [nzXs]="24" [nzLg]="24">-->
<!--      <button nz-button nzType="dashed" (click)="addEdit()">添加</button>-->
<!--    </div>-->
<!--  </div>-->
  <div nz-row class="mb-lg">
    <div nz-col [nzXs]="24" [nzLg]="24">
      <nz-form-label [nzSpan]="6">操作</nz-form-label>
      <button nz-button nzType="default" (click)="st.checkAll(true)">
        全选
      </button>
      <button nz-button nzType="default" (click)="st.checkAll(false)">
        取消全选
      </button>
      <button nz-button nzType="primary" nzDanger (click)="bulkDelete(st._data)">
        <span nz-icon nzType="delete" nzTheme="outline"></span>
        批量删除
      </button>
      <button nz-button nzType="primary" (click)="bulkStartTask(st._data)">
        <span nz-icon nzType="download" nzTheme="outline"></span>
        批量开始
      </button>
    </div>
  </div>
  <st #st [data]="data" [columns]="columns" [page]="page">
    <ng-template st-row="state" let-item>
      <button nz-button nzType="default" nzSize="small" [nzLoading]="item.state == 'crawling'" [disabled]="!item.data" (click)="openCrawlInfoDrawer(item.videoId, item.data)">
        <span nz-icon nzType="api" nzTheme="outline"></span>
        <span>{{item.data ? '待处理' : '待爬取'}}</span>
      </button>
    </ng-template>
  </st>
</nz-card>
